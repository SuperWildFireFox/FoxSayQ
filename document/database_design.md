# 数据库设计

考虑分布式，我们将会为每一个qq机器人都建立一个库，每个库的表都是统一的。

## 用户信息，权限处理

**用户表**

| 用户qq号（主键） | unsigned int(4)    |
| ---------------- | ------------------ |
| 注册时间         | DATETIME()         |
| 最后发言时间     | DATETIME()         |
| 是否是超级用户   | bool               |
| 权限             | BIGINT(8) UNSIGNED |
|                  |                    |
|                  |                    |
|                  |                    |

其中，权限由bit为表示，具体权限如下

| 0   | col2 | col3 |
| --- | ---- | ---- |
| 0x1 |      |      |
|     |      |      |

**群组表**

| 群号（主键） | unsigned int(4)    |  |
| ------------ | ------------------ | - |
| 群权限       | BIGINT(8) UNSIGNED |  |
| 注册时间     | DATETIME()         |  |
| 最后发言时间 | DATETIME()         |  |
| 当前开启服务 | BIGINT(8) UNSIGNED |  |
|              |                    |  |

## 附加信息存储表



## 发言信息记录表

个人，针对chatgpt

| 自增id    | unsigned int(4) |  |
| --------- | --------------- | - |
| 发言人qq  | unsigned int(4) |  |
| 发言时间  | DATETIME()      |  |
| 发言内容  | 文本表中的id    |  |
| GPT的回复 | 文本表中的id    |  |
| 状态      | int(4)          |  |
| 预设id    | 预设表中的id    |  |
|           |                 |  |

群组，针对chatgpt

| 自增id    | unsigned int(4) |  |
| --------- | --------------- | - |
| 群号      | unsigned int(4) |  |
| 发言者    | unsigned int(4) |  |
| 发言时间  | DATETIME()      |  |
| 发言内容  | 文本表中的id    |  |
| GPT的回复 | 文本表中的id    |  |
| 状态      | int(4)          |  |
| 预设id    | 预设表中的id    |  |



## 文本存储

对话表主要用来存储对话文本，包括问与答



预设表主要用来存储预设文本
